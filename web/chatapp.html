<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- title -->
    <title>ChatApp</title>
    <!-- link css -->
    <link rel="stylesheet" href="./css/chatapp.css">

</head>
<body>
  <div id="root">
    <header>
      <h1 class="main-title" title="Ghetto Chat">Chat App</h1>
      <nav>
        <ul>
          <li><a href="/">Logout as "Computer"</a></li>
        </ul>
      </nav>
    </header>
    <section class="main-view"><label for="toggle">&lt; Chatrooms</label><input id="toggle" type="checkbox" checked="">
      <aside class="chat-rooms">
        <form class="new-chatroom-form"><label for="new-chat">Create New Chat</label><input type="text" id="new-chat" placeholder="chatroom-name" value=""><input type="submit" value="Create"></form>
        <ul>
          <li class=""><a href="/chat/chat-1">chat-1</a></li>
          <li class="selected"><a href="/chat/chat-2">chat-2</a></li>
          <li class=""><a href="/chat/chat-3">chat-3</a></li>
        </ul>
      </aside>
      <main class="chat">
        <ul class="messages-container">
          <li class=" system">
            <div class="content">Phone joined the chat</div>
            <div class="time-stamp">6 days ago</div>
          </li>
          <li class="">
            <div class="sender">Phone</div>
            <div class="content">Is anybody here??</div>
            <div class="time-stamp">6 days ago</div>
          </li>
          <li class=" system">
            <div class="content">Computer joined the chat</div>
            <div class="time-stamp">6 days ago</div>
          </li>
          <li class="own">
            <div class="sender">Computer</div>
            <div class="content">I am here!</div>
            <div class="time-stamp">6 days ago</div>
          </li>
        </ul>
        <form class="new-message"><input type="text" placeholder="message..." value=""><input type="submit" value="Send"></form>
      </main>
    </section>
  </div>



<script>
  // On mobile the chat-rooms is toggled with a checkbox
  const toggle = document.querySelector("#toggle");

  document.querySelector(".chat-rooms ul").addEventListener("click", (e) => {
    e.preventDefault();
    const tar = e.target;
    if (tar.tagName === "A") {
      tar.closest("ul").querySelector(".selected").classList.remove("selected");
      tar.closest("li").classList.add("selected");
      // uncheck to hide the chat-rooms list
      toggle.checked = false;
    }
  });

</script>
</body>
